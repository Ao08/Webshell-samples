{"version":3,"sources":["webpack:///src/views/apply/AllEvaluate.vue","webpack:///./src/views/apply/AllEvaluate.vue?a91a","webpack:///./src/views/apply/AllEvaluate.vue"],"names":["AllEvaluate","components","Header","data","list","loading","finished","filtrate_list","filtrate","next_page","data_list","no_list_btn","comments_total","bad_total","good_total","total","comments_model","oldType","methods","onLoad","this","getCommentsList","starNum","num","starArr","i","push","_this","fetch","comments","$route","params","type","id","res","setTimeout","code","concat","length","star","next_page_url","cutGoodModel","apply_AllEvaluate","render","_vm","_h","$createElement","_c","_self","staticClass","_v","class","on","domProps","textContent","_s","click","$event","none","attrs","load","model","value","callback","$$v","expression","_l","item","key","src","__webpack_require__","alt","comment_type","phone","member","nick","_e","_f","created_at","onestar","half","off","toFixed","content","oitem","oind","reply","staticStyle","color","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.bb5b70e007389505e4f1.js","sourcesContent":["<template>\r\n  <div class=\"allEvaluate bgfff\">\r\n    <Header></Header>\r\n    <div>\r\n      <div class=\"filtrate pd40 bgfff bor_b\">\r\n        <p :class=\"{on:comments_model===0}\" @click=\"cutGoodModel(0)\" v-text=\"`全部(${comments_total.total})`\">100</p>\r\n        <p :class=\"{on:comments_model==='good'}\" @click=\"cutGoodModel('good')\" v-text=\"`好评(${comments_total.good_total})`\">好评(100) </p>\r\n        <p :class=\"{on:comments_model==='bad'}\" @click=\"cutGoodModel('bad')\" v-text=\"`差评(${comments_total.bad_total})`\">差评(100)</p>\r\n      </div>\r\n      <ul class=\"evaluate mt20 bgfff\" :class=\"{none:no_list_btn}\">\r\n        <van-list\r\n          v-model=\"loading\"\r\n          :finished=\"finished\"\r\n          @load=\"onLoad\"\r\n        >\r\n        <li class=\"evaluate_item bor_b pb40 mb40\" v-for=\"(item, i) in data_list\" :key=\"i\" >\r\n            <img src=\"../../images/logo.jpg\" class=\"mr20\" alt=\"\">\r\n            <div class=\"evaluate_item_msg\">\r\n              <p class=\"date\">\r\n                 <!-- 真实评价 -->\r\n                <span v-if=\"item.comment_type==='fake'\">{{item.phone}}</span>\r\n                <!-- 虚假评价 -->\r\n                <span v-else-if=\"item.comment_type==='real'\">{{item.member.nick}}</span>\r\n                <span>{{item.created_at| YTDHM('')}}</span>\r\n              </p>\r\n               <!--循序生成五星，span绑定类名设置星星背景图-->\r\n              <div class=\"score oneScore\">\r\n                <span class=\"star-item\" v-for=\"(onestar,i) in item.stars\" :class=\"{on:onestar===1,half:onestar===0.5,off:onestar===0}\" :key=\"i\"></span>\r\n                <span v-text=\"item.star.toFixed(1)\">5</span>\r\n              </div>\r\n              <p class=\"evaluate_content pd20\" v-text=\"item.content\">根据百度经验，这种贷款其他地方需要10个工作日，但是在这里只要1-2两天就可以拿到钱，很快，很放心，下次还会来。</p>\r\n               <div class=\"evaluate_content pd20\" v-if=\"item.reply&&item.reply.length\" v-for=\"(oitem, oind) in item.reply\" :key=\"oind\">\r\n                <p>\r\n                  <span style=\"color:#2e6eec\">引客来</span>\r\n                  <span>回复</span>\r\n                  <span style=\"color:#2e6eec\" v-text=\"item.member.nick\"></span>\r\n                </p>\r\n                <p class=\"pcub-te2\">\r\n                  <span v-text=\"oitem.content\"></span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n        </li>\r\n        </van-list>\r\n      </ul>\r\n    </div>\r\n     <!-- 暂无内容 -->\r\n    <div class=\"content_none\" :class=\"{none:!no_list_btn}\">\r\n      <p>暂无此评价</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from '@/components/Header'\r\nexport default {\r\n  components: {\r\n    Header\r\n  },\r\n  data () {\r\n    return {\r\n      list: 5,\r\n      loading: false,\r\n      finished: false,\r\n      filtrate_list: false, // 筛选按钮\r\n      filtrate: false, // 筛选列表显示\r\n      next_page: 1,\r\n      data_list: [],\r\n      no_list_btn: false,\r\n      comments_total: {\r\n        bad_total: 0,\r\n        good_total: 0,\r\n        total: 0\r\n      },\r\n      comments_model: 0,\r\n      oldType: '',\r\n    }\r\n  },\r\n  methods: {\r\n    onLoad () {\r\n      // 异步更新数据\r\n      // console.log('[')\r\n      // this.data_list = []\r\n      this.getCommentsList()\r\n    },\r\n    // 计算星星个数\r\n    starNum (num) {\r\n      let starArr = []\r\n      for (let i = 0; i < 5; i++) {\r\n        starArr.push(num >= 1 ? 1 : num >= 0.5 ? 0.5 : 0)\r\n        num -= 1\r\n      }\r\n      return starArr\r\n    },\r\n    getCommentsList () {\r\n      // 获取评论列表\r\n      // console.log('[')\r\n      this.fetch.comments(this.$route.params.type, this.$route.params.id, this.next_page, this.comments_model, {},(res => {\r\n        // console.log(this.$route.params.type);\r\n        setTimeout(() => {\r\n          if (res.code === 200) {\r\n            this.next_page += 1\r\n            this.data_list = this.data_list.concat(res.data.data.data)\r\n            for (let i = 0; i < this.data_list.length; i++) {\r\n              this.data_list[i]['stars'] = this.starNum(this.data_list[i].star)\r\n            }\r\n            // console.log(this.data_list)\r\n            this.comments_total = {\r\n              bad_total: res.data.bad_total,\r\n              good_total: res.data.good_total,\r\n              total: res.data.total\r\n            }\r\n            // 加载状态结束\r\n            this.loading = false\r\n            if (res.data.data.next_page_url == null) {\r\n              // 数据全部加载完成\r\n              this.finished = true\r\n            }\r\n          } else if (res.code === 2004) {\r\n            // 没有数据\r\n            this.loading = false\r\n            this.no_list_btn = true\r\n            this.finished = true\r\n          }\r\n        }, 50)\r\n      }))\r\n    },\r\n    cutGoodModel (type) {\r\n        if(this.loading){\r\n          this.comments_model = this.oldType\r\n          return\r\n        } \r\n        this.oldType = type\r\n        this.loading = true\r\n        this.data_list = []\r\n        this.finished = false\r\n        this.no_list_btn = false\r\n        this.next_page = 1\r\n        this.comments_model = type\r\n        this.getCommentsList() \r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.score{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n    .star-item{\r\n      width: .25rem;\r\n      height: .25rem;\r\n      background: no-repeat;\r\n    }\r\n    .star-item.on{\r\n      background: url(\"../../images/ping-jia-xuan-zhong.png\");  //全星\r\n      background-size: contain;\r\n    }\r\n    .star-item.half{\r\n      background-size: contain;\r\n    }\r\n    .star-item.off{\r\n      background: url(\"../../images/ping-jia-wei-xuan.png\");   //空星星\r\n      background-size: contain;\r\n    }\r\n    span{\r\n      font-size: .26rem;\r\n      color: #ff812d;\r\n      margin-left: .1rem;\r\n      vertical-align: bottom;\r\n      height: .26rem;\r\n    }\r\n}\r\n.oneScore{\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-left: -.1rem;\r\n}\r\n.filtrate{\r\n  display: flex;\r\n  p{\r\n    padding: 0 .3rem;\r\n    height: .6rem;\r\n    line-height: .6rem;\r\n    border-radius: .3rem;\r\n    background-color: #f8f8f9;\r\n    margin-right: .3rem;\r\n    font-size: .24rem;\r\n    color: #101d37;\r\n    &.on{\r\n      background-color: #1296db;\r\n      color: #fff;\r\n    }\r\n  }\r\n}\r\n\r\n.allEvaluate{\r\n  height: 100vh;\r\n    .content_none{\r\n      height: calc(100vh - 2.3rem);\r\n      margin-top: 0;\r\n    }\r\n    .evaluate{\r\n    padding: .4rem;\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/apply/AllEvaluate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"allEvaluate bgfff\"},[_c('Header'),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"filtrate pd40 bgfff bor_b\"},[_c('p',{class:{on:_vm.comments_model===0},domProps:{\"textContent\":_vm._s((\"全部(\" + (_vm.comments_total.total) + \")\"))},on:{\"click\":function($event){_vm.cutGoodModel(0)}}},[_vm._v(\"100\")]),_vm._v(\" \"),_c('p',{class:{on:_vm.comments_model==='good'},domProps:{\"textContent\":_vm._s((\"好评(\" + (_vm.comments_total.good_total) + \")\"))},on:{\"click\":function($event){_vm.cutGoodModel('good')}}},[_vm._v(\"好评(100) \")]),_vm._v(\" \"),_c('p',{class:{on:_vm.comments_model==='bad'},domProps:{\"textContent\":_vm._s((\"差评(\" + (_vm.comments_total.bad_total) + \")\"))},on:{\"click\":function($event){_vm.cutGoodModel('bad')}}},[_vm._v(\"差评(100)\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"evaluate mt20 bgfff\",class:{none:_vm.no_list_btn}},[_c('van-list',{attrs:{\"finished\":_vm.finished},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.data_list),function(item,i){return _c('li',{key:i,staticClass:\"evaluate_item bor_b pb40 mb40\"},[_c('img',{staticClass:\"mr20\",attrs:{\"src\":require(\"../../images/logo.jpg\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"evaluate_item_msg\"},[_c('p',{staticClass:\"date\"},[(item.comment_type==='fake')?_c('span',[_vm._v(_vm._s(item.phone))]):(item.comment_type==='real')?_c('span',[_vm._v(_vm._s(item.member.nick))]):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"YTDHM\")(item.created_at,'')))])]),_vm._v(\" \"),_c('div',{staticClass:\"score oneScore\"},[_vm._l((item.stars),function(onestar,i){return _c('span',{key:i,staticClass:\"star-item\",class:{on:onestar===1,half:onestar===0.5,off:onestar===0}})}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(item.star.toFixed(1))}},[_vm._v(\"5\")])],2),_vm._v(\" \"),_c('p',{staticClass:\"evaluate_content pd20\",domProps:{\"textContent\":_vm._s(item.content)}},[_vm._v(\"根据百度经验，这种贷款其他地方需要10个工作日，但是在这里只要1-2两天就可以拿到钱，很快，很放心，下次还会来。\")]),_vm._v(\" \"),_vm._l((item.reply),function(oitem,oind){return (item.reply&&item.reply.length)?_c('div',{key:oind,staticClass:\"evaluate_content pd20\"},[_c('p',[_c('span',{staticStyle:{\"color\":\"#2e6eec\"}},[_vm._v(\"引客来\")]),_vm._v(\" \"),_c('span',[_vm._v(\"回复\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#2e6eec\"},domProps:{\"textContent\":_vm._s(item.member.nick)}})]),_vm._v(\" \"),_c('p',{staticClass:\"pcub-te2\"},[_c('span',{domProps:{\"textContent\":_vm._s(oitem.content)}})])]):_vm._e()})],2)])}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"content_none\",class:{none:!_vm.no_list_btn}},[_c('p',[_vm._v(\"暂无此评价\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bfae742\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/apply/AllEvaluate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3bfae742\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AllEvaluate.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AllEvaluate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AllEvaluate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3bfae742\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AllEvaluate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3bfae742\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/apply/AllEvaluate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}