webpackJsonp([18],{MJOC:function(e,t){},VYWM:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("teIl"),a=s("4s4v"),n=s("QLRF"),i={components:{Header:o.a},data:function(){return{phone:"",code:null,readonly_:!1,password:null,passwordType:"password",close:!1,close2:!1,eye:!1,protocol:!0,isGetCode:!0,getCodeText:"获取验证码",click_btn:!0}},watch:{showHeight:"inputType",phone:function(e,t){this.phone=e.length>t.length?e.replace(/\s/g,"").replace(/(\d{3})(\d{0,4})(\d{0,4})/,"$1 $2 $3"):this.phone.trim()}},methods:{telNum:function(e){var t=e.target;if(8!=e.keyCode){var s=t.value;s=s.replace(/\s*/g,"");for(var o=[],a=0;a<s.length;a++)3==a||7==a?o.push(" "+s.charAt(a)):o.push(s.charAt(a));t.value=o.join("")}},getCode:function(){var e=this,t=this.phone;if(t=t.replace(/\s*/g,""),Object(a.b)(t)){var s={phone:n.a.encrypt(t),msg_sign:0,verify_type:"retrieve"};this.isGetCode&&(this.isGetCode=!1,this.fetch.aesGetCode(s,function(t){var s=60,o=e;if(200===t.code){e.readonly_=!1,o.getCodeText="("+s+"s)重新获取";var a=setInterval(function(){s-=1,o.getCodeText="("+s+"s)重新获取",0===s&&(clearInterval(a),e.isGetCode=!0,o.getCodeText="重新获取")},1e3)}else{e.isGetCode=!0;e.$toast(t.info,2e3,1)}}))}else{this.throttle(function(){e.$toast("请输入正确的手机号",2e3,1)},2e3)}},login:function(){var e=this;if(this.click_btn){this.click_btn=!1,setTimeout(function(){e.click_btn=!0},500);var t=this.phone;if((t=t.replace(/\s*/g,""))&&this.code&&this.password)if(this.password.length>5){var s={phone:n.a.encrypt(t),password:n.a.encrypt(this.password),verification:this.code,verify_type:"retrieve"};this.fetch.aesretrievePwd(s,function(t){if(setTimeout(function(){e.click_btn=!0},500),200===t.code){e.throttle(function(){e.$toast(t.info,1e3,2)},1e3),setTimeout(function(){e.$router.replace("/login/PwdLogin")},500)}else{e.throttle(function(){e.$toast(t.info,2e3,1)},2e3)}})}else{this.throttle(function(){e.$toast("密码不能少于6位",2e3,1)},2e3)}}},eye_:function(e){this.passwordType=e?"text":"password",this.eye=e}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login bgfff ls1"},[o("div",{staticClass:"header"},[o("div",{staticClass:"backClose"},[o("img",{staticClass:"back",attrs:{src:s("zy2Y"),alt:""},on:{click:function(t){e.$router.replace("/login/PwdLogin")}}})]),e._v(" "),o("p",{staticClass:"ellipsis"},[e._v("找回密码")]),e._v(" "),o("div",{staticClass:"colSahare"})]),e._v(" "),o("div",{staticClass:"pl40 pr40"},[o("div",{staticClass:"item bor_b"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"tel",maxlength:"13",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{focus:function(t){e.close=!0},blur:function(t){e.close=!1},keyup:function(t){e.telNum(t)},input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e._v(" "),o("p",[o("img",{directives:[{name:"show",rawName:"v-show",value:e.close,expression:"close"}],staticClass:"close",attrs:{src:s("Bum3"),alt:""},on:{click:function(t){e.phone=""}}})])]),e._v(" "),o("div",{staticClass:"item bor_b"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",readonly:e.readonly_,placeholder:"请输入验证码",maxlength:"6"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),o("span",{staticClass:"get_code",class:{on:e.phone},domProps:{textContent:e._s(e.getCodeText)},on:{click:e.getCode}})]),e._v(" "),o("div",{staticClass:"item bor_b"},["checkbox"===e.passwordType?o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"请输入新密码（最少6位）",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{focus:function(t){e.close2=!0},blur:function(t){e.close2=!1},change:function(t){var s=e.password,o=t.target,a=!!o.checked;if(Array.isArray(s)){var n=e._i(s,null);o.checked?n<0&&(e.password=s.concat([null])):n>-1&&(e.password=s.slice(0,n).concat(s.slice(n+1)))}else e.password=a}}}):"radio"===e.passwordType?o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"请输入新密码（最少6位）",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{focus:function(t){e.close2=!0},blur:function(t){e.close2=!1},change:function(t){e.password=null}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"请输入新密码（最少6位）",type:e.passwordType},domProps:{value:e.password},on:{focus:function(t){e.close2=!0},blur:function(t){e.close2=!1},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),o("p",[o("img",{directives:[{name:"show",rawName:"v-show",value:e.close2,expression:"close2"}],staticClass:"close left",attrs:{src:s("Bum3"),alt:""},on:{click:function(t){e.password=null}}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:!e.eye,expression:"!eye"}],staticClass:"eye",attrs:{src:s("Mfo8"),alt:""},on:{click:function(t){e.eye_(!0)}}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.eye,expression:"eye"}],staticClass:"eye",attrs:{src:s("3q/n"),alt:""},on:{click:function(t){e.eye_(!1)}}})])]),e._v(" "),o("p",{staticClass:"login_btn",class:{on:e.phone&&e.code&&e.password},on:{click:e.login}},[e._v("确定")])])])},staticRenderFns:[]};var r=s("VU/8")(i,c,!1,function(e){s("MJOC")},"data-v-c3b5558a",null);t.default=r.exports}});
//# sourceMappingURL=18.e9857486133481a8c107.js.map