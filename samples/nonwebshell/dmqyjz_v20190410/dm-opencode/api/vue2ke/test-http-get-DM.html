

 <!DOCTYPE html><html lang="zh-CN"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>get user add del - vue2入门与提高视频教程 </title>
 
 <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.css" rel="stylesheet">

<script src="vue.js" type="text/javascript"></script>
<script src="vue-resource.js" type="text/javascript"></script>
<!--
 <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.6"></script>
-->
</head>
<body  >
 
 
<div id="app">

<form v-on:submit="adduser">
 
 

 <p>jsonp</p>
  <ul>
  <li v-for="node in nodes" > {{ node.title }} </li>
 </ul>
 
 
 </form>
 </div>

 
 <p>
 No 'Access-Control-Allow-Origin' header is present on the requested resource   -- 表示前端要跨域
 
 <br /> <br />
 Uncaught (in promise)   -- 表示服务器端跨域
 
 </p>
 <script>

  
 

var vm = new Vue({ 

    el:'#app',
    data:{
      newuser:{name:'11',email:'aa@aa.com',},
      users:[    ],
	  nodes:[]
    },
    methods:{
      adduser:function(e){
           this.users.push(
       {
         name:this.newuser.name,
       email:this.newuser.email,
       contact:true,
       }
       );
           e.preventDefault();
      },
       deluser:function(user){
         
      this.users.splice(this.users.indexOf(user),1);
            
      } 
    } 
 ,
        
        created:function(){
           //console.log(2222);
		   url = 'http://127.0.0.22:8080/dev2018/dm-opencodesingle/api/apiindex.php?type=nodelist&cate=cate20150805_1133251007';
          
		   this.$http.get(url).then(function(response){
            console.log(response.data);
             this.nodes= response.data;
           });
		   
		   
		   // this.$http.jsonp(url, {},
				//{ 
					 // headers: {},
					  //emulateJSON: true }).then((response) => {
					//	this.nodes= response.data;
					//	console.log(response.data);
						
					 // });
	  
		   
		   //-----------
           
        }
  



})
 </script>

 <style>
    li{padding-left:33px; padding-right:33px; height:33px;}
  li input[type="button"]{float:right}
  li input[type="checkbox"]{float:left}
  li .del{ text-decoration:line-through}
    .dn {display:none;}
    .db {display:block;}
 </style>
</body>
</html>
 
 


